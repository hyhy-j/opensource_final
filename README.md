# 낙상 및 비명 감지 시스템

이 프로젝트는 OpenCV와 PyTorch를 사용하여 낙상 및 비명을 감지하는 시스템입니다. 웹캠을 통해 낙상을 감지하고, 마이크를 통해 비명을 감지하는 기능을 포함하고 있습니다.

## 기능 설명

1. **낙상 감지 (fall_detection.py)**:
   - OpenCV를 사용하여 웹캠 영상을 실시간으로 처리합니다.
   - 사람의 낙상을 감지하고, 감지된 경우 이미지로 저장합니다.
   - 특정 음성을 인식하여 도움 요청을 감지합니다.

2. **비명 감지 (scream_detection_main.py)**:
   - PyTorch를 사용하여 비명 소리를 감지합니다.
   - 사전 훈련된 모델을 사용하여 마이크로 입력된 소리를 분석합니다.


## 기술적 구현

1. **낙상 감지 (fall_detection.py)**
   - OpenCV를 사용하여 웹캠에서 영상을 스트리밍하고, 배경 제거 기법인 MOG2를 이용하여 배경을 제거합니다.
   - 이후, 배경 제거된 이미지에서 contour를 찾아 넘어짐을 감지합니다.
   - 사람의 높이와 너비 비율을 통해 넘어짐을 판단하고, 일정 시간 동안 연속적인 넘어짐이 감지되면 "FALL" 메시지를 출력하고
     해당 프레임을 이미지 파일로 저장합니다.

2. **비명 감지 (scream_detection_main.py)**
   - PyQt5를 사용하여 GUI를 구현하고, 마이크 입력을 처리합니다.
   - 신경망 모델은 합성곱 신경망(Convolutional Neural Network)으로 구성되어 소리의 스펙트로그램을 분석하고,
     비명 패턴을 학습한 후 감지합니다.
   - 감지된 비명에 대한 경고를 화면에 출력하며, 필요시 추가적인 경고 메커니즘을 구현할 수 있습니다.

   
## 요구 사항
- Python 3.7 이상
- 필요한 라이브러리:

1. **낙상감지**
  - cv2 (OpenCV): 이미지 처리 및 컨투어 검출
  - datetime: 파일 이름으로 현재 시간을 사용하여 이미지 저장
  - time: 웹캠 초기화를 위한 대기 시간 제어

2. **비명 감지**
  - torch: 신경망 모델 관리 및 학습된 가중치 로드
  - PyQt5: GUI 구현 및 이벤트 처리
  - threading: 두 프로그램을 병렬로 실행하기 위한 멀티스레딩 지원


## 실행방법
두 프로그램은 각각 독립적으로 실행되며, 멀티스레딩을 통해 병렬로 실행됩니다.
(프로젝트를 실행하기 전에 웹캠과 마이크가 제대로 연결되어 있는지 확인해야 합니다.)
### 낙상감지
-  웹캠을 통해 사람의 넘어짐을 감지하고 실시간으로 화면에 표시합니다.
-  넘어짐이 감지되면 "FALL" 메시지를 표시하고 해당 시점의 이미지를 저장합니다.
### 비명감지
- 마이크를 통해 주변 소리를 수집하고, 신경망 모델을 사용하여 비명을 감지합니다.
- PyQt5를 사용하여 소리를 시각화하고, 비명 감지 시 사용자에게 경고를 출력합니다.

## 결과화면
### 낙상감지
![image](https://github.com/hyhy-j/opensource_final/assets/141477787/d5feea9c-6d92-49ef-8d3b-a035bef0b843)
### 비명감지
![image](https://github.com/hyhy-j/opensource_final/assets/141477787/46fe5e55-cdc3-4c20-a89c-79d349adeba1)


## 팀원 역할분담 :

### 팀장 - 권희재
1. **역할**
 - 프로젝트 리더십 및 조정, 낙상 모니터링 기능 개발
2. **기여**
- 프로젝트의 전반적인 기술적 방향 설정 및 낙상 모니터링 프로그램의 핵심 기능 개발에 주도적으로 참여하였습니다.
- OpenCV를 이용한 웹캠 영상 처리 및 MOG2 배경 제거 기법 구현, contour를 활용한 넘어짐 감지 로직 개발을 담당하였습니다. 
- 사용자 인터페이스(UI)의 구성 및 사용자 편의성 확보를 위해 PyQt5를 활용한 GUI 개발을 주도적으로 수행하였습니다.
  
### 팀원1 - 이현정
1. **역할**
 - GitHub 관리, 낙상 모니터링 프로그램 개발, 사용자 인터페이스(UI) 구현
2. **기여**
 - GitHub 리포지토리를 효율적으로 관리하고 팀원 간의 협업을 원활히 진행하였습니다.
 - 낙상 모니터링 프로그램의 주요 기능 개발에 참여하였으며, GUI 구현에서 사용자 인터페이스(UI)의 시각적 요소를 디자인하고 구현하는 데 중점을 두었습니다.
 - 사용자가 직관적으로 프로그램을 이해하고 사용할 수 있도록 UI를 개선하는 데 기여하였습니다.
   
### 팀원2 - 이주원
1. **역할**
 - 음성 인식 기능 개발, 실시간 모니터링 및 로깅 담당
2. **기여**
 - 음성 인식 기술에 대한 심층적인 연구를 기반으로 프로그램에 필요한 음성 인식 기능을 개발하였습니다.
 - 실시간 데이터 처리 및 로깅 시스템을 구축하여 프로그램이 실시간으로 마이크 입력을 처리하고 결과를 정확하게 기록할 수 있도록 지원하였습니다.
 - 사용자 인터페이스(UI)의 개발에도 기여하여 GUI 요소의 통합과 사용자 편의성을 높이는 데에 기여하였습니다.   
